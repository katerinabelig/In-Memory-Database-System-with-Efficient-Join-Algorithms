# Partitioned-Hash-Join Part 2
Κατερίνα Μπελιγιάννη Α.Μ. 1115201800126
Σοφία Κατσαούνη Α.Μ.  1115201800070
Σπύρος Κάντας Α.Μ. 1115201800059

### How to compile and execute:
cd main\
chmod +x compile_execute\
./compile_execute <ονομα φακελου εισόδου> π.χ. ./compile_execute ./Tests


Το πρόγραμμα αρχικά διαβάζει τα αρχεία με τα Relation και τα αποθηκεύει
στη δομή Joiner ως μια λίστα από Relation. Έπειτα διαβάζει τα Queries από
αρχείο και εκτελεί τα Join.

Ενδιάμεση δομή: UsedRelation
  Για ενδιάμεση δομή έχουμε επιλέξει έναν πίνακα από πίνακες ακεραίων(MatchRow)
  που ο καθένας έχει όσα στοιχεία είναι και οι σχέσεις στο query που εκτελείται.
  (πχ αν συμμετέχουν 4 relations στο query, η αρχική δομή θα είναι  -1 -1 -1 -1
                                                                    -1 -1 -1 -1
                                                                    -1 -1 -1 -1
                                                                    -1 -1 -1 -1 
                                                                    ...)
  Η πρώτη στήλη αναπαριστά το relation με index 0, η δεύτερη αυτή με index ένα etc.
  Κάθε φορά που θέλουμε να κάνουμε ένα join, δημιουργούμε ένα RelCol το οποίο είναι 
  της μορφής που ήταν το Relation στην πρώτη εργασία, από την αντίστοιχη στήλη του 
  στο usedRelations. Αφού τελιεώσει το join, επιστρέφεται ένας πίνακας από Matches
  και στην συνέχεια φιλτράρουμε τον πίνακα usedRelations μας και τον ανανεώνουμε αν 
  τα rowids που έχει υπάρχουν και στο matches. Άν όχι, τα rows αυτά διαγράφονται. 

Join και ανανέωση ενδιάμεσης δομής:
  - First Join: οι πίνακες προς join φορτώνονται από τις αρχικές σχέσεις και δίνονται στην
   PartitionHashJoin. Τα αποτελέσματα που επιστρέφονται είναι tuple των 2 που κάθε tuple έχει το
   ζευγάρι row id που ταίριαξε. Τα αποτελέσματα απλά εισχωρούνται στην ενδιάμεση δομή.

  - Left/Right Join: η αριστερή/δεξιά σχέση υπάρχει στον ενδιάμεσο πίνακα όμως η άλλη όχι,
   σε αυτή τη περίπτωση φορτώνεται ο πίνακας που υπάρχει στο πίνακα και ο άλλος φορτώνεται από
   την αρχική σχέση. Τα αποτελέσματα είναι tuple όπως παραπάνω. Έπειτα γίνεται ανανέωση του ενδιάμεσου
   πίνακα. Για κάθε τιμή του πίνακα στην ενδιάμεση δομή γίνεται έλεγχος για το αν υπάρχει στην αντίστοιχη
   στήλη στα αποτελέσματα αν υπάρχει κρατείται και προστίθενται όλα τα αποτελέσματα με αυτή τη στήλη.
   Αν δεν υπάρχει διαγράφεται η γραμμή αυτή της ενδιάμεσης δομής.

  - Self/Filter Join: σε αυτές τις περιπτώσεις η διαφορά είναι ότι τα αποτελέσματα είναι μία
    στήλη(SingleCol).


Joiner:
  Η κλάση Joiner είναι υπεύθυνη για τη εκτέλεση πολλών join όπως τα ορίζει
  το query, τα υλοποιεί χρησιμοποιώντας τη PartitionHashJoin (βλέπε Part 1)

Relation:
  Η κλάση Relation φορτώνει και αποθηκεύει χαρακτηριστικά του πίνακα όπως size, αριθμό
  στηλών και έναν πίνακα στις στήλες του.

Parser:
  Ο Parser είναι υπεύθυνος για την σάρωση ανάλυση και μετατροπή αρχείου με queries στις
  αντίστοιχες ειδικές δομές Query, Predicates, Projection.
